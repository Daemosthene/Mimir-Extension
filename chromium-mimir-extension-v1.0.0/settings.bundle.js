(()=>{var e={default:"#4287f5",red:"#A4262C",orange:"#CA5010",darkblue:"#40587C",green:"#407855",purple:"#8764B8",teal:"#038387",yellow:"#CEA230"};function t(t){var o=e[t]||e.default;document.documentElement.style.setProperty("--accent-color",o)}function o(e,t){var o=document.querySelector(".mimir-mini-popup");o&&o.remove();var r=document.createElement("div");r.textContent=t,r.className="mimir-mini-popup";var n=e.getBoundingClientRect();r.style.position="fixed",r.style.top="".concat(n.top+n.height/2-12,"px"),r.style.left="".concat(n.left-210,"px"),r.style.background="#333",r.style.color="#fff",r.style.padding="6px 10px",r.style.fontSize="12px",r.style.borderRadius="4px",r.style.zIndex=999999,r.style.boxShadow="0 2px 6px rgba(0,0,0,0.2)",r.style.whiteSpace="nowrap",r.style.maxWidth="200px",document.body.appendChild(r),setTimeout(function(){return r.remove()},2e3)}document.addEventListener("DOMContentLoaded",function(){document.getElementById("dailyBriefToggle"),document.getElementById("arrow-brief"),document.getElementById("desc-brief"),document.getElementById("themeSetting"),document.getElementById("themeSelector"),chrome.storage.local.get(["isProUser","theme"],function(e){var r=e.isProUser,n=document.getElementById("themeSelector");r?(document.querySelectorAll(".pro-wrapper.disabled").forEach(function(e){e.classList.remove("disabled"),e.removeAttribute("title")}),document.querySelectorAll(".disabled-pro-feature").forEach(function(e){e.classList.remove("disabled-pro-feature")})):document.querySelectorAll("[data-proonly]").forEach(function(e){var t=e.closest(".pro-wrapper");t&&(t.classList.add("disabled"),t.setAttribute("title","Upgrade to premium to use this feature.")),e.classList.add("disabled-pro-feature")}),document.querySelectorAll("[data-proonly]").forEach(function(e){e.addEventListener("click",function(t){r||(t.preventDefault(),t.stopPropagation(),o(e,"Upgrade to premium to use this feature."))})}),document.getElementById("themeSetting").style.display="block",e.theme&&(n.value=e.theme),t(e.theme||"default"),n.addEventListener("change",function(){chrome.storage.local.get("isProUser",function(e){var r=e.isProUser,a=n.value;if(!r)return o(n,"Upgrade to premium to use this feature."),void chrome.storage.local.get("theme",function(e){var t=e.theme;n.value=t||"default"});chrome.storage.local.set({theme:a},function(){t(a),chrome.runtime.sendMessage({type:"themeChanged",theme:a}),chrome.runtime.sendMessage({type:"setIconByTheme",theme:a})})})})})})})();